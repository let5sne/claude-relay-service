# Railway部署环境变量配置示例
# 在Railway控制台中设置这些环境变量

# 🔐 安全配置 (必须设置)
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long
ENCRYPTION_KEY=your-32-character-encryption-key-here

# 🌐 服务器配置
PORT=3000
HOST=0.0.0.0
NODE_ENV=production
TRUST_PROXY=true

# 📊 Redis配置 (Railway会自动提供)
# Railway会自动设置以下变量，无需手动配置：
# REDIS_URL=redis://...
# REDIS_HOST=...
# REDIS_PORT=...
# REDIS_PASSWORD=...

# 🐘 PostgreSQL 配置 (Railway提供DATABASE_URL)
# DATABASE_URL=postgres://username:password@hostname:5432/database
POSTGRES_ENABLED=true
POSTGRES_URL=${DATABASE_URL}
POSTGRES_POOL_MAX=10
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=5000

# 🔑 管理员账户 (可选，首次部署时设置)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-secure-admin-password

# 🔐 API密钥前缀
API_KEY_PREFIX=cr_

# ⏰ 会话超时 (毫秒)
ADMIN_SESSION_TIMEOUT=86400000

# 📧 邮件配置 (可选)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=your-email@gmail.com

# 🔗 LDAP配置 (可选)
LDAP_URL=ldap://your-ldap-server:389
LDAP_BASE_DN=dc=example,dc=com
LDAP_BIND_DN=cn=admin,dc=example,dc=com
LDAP_BIND_PASSWORD=your-ldap-password

# 🌐 代理配置 (可选)
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# 📊 日志配置
LOG_LEVEL=info
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=5

# 🔒 安全配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# 🎯 功能开关
ENABLE_WEBHOOK=true
ENABLE_LDAP=false
ENABLE_EMAIL=false
ENABLE_RATE_LIMITING=true
