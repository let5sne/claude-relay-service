# æˆæœ¬ç²¾ç¡®è®¡ç®—åŠŸèƒ½

> âœ… **åŠŸèƒ½çŠ¶æ€**: å·²å®Œæˆå¹¶å¯ç”¨ï¼ˆå®Œæˆåº¦ 100%ï¼‰
> ğŸ“… **å®Œæˆæ—¥æœŸ**: 2025-10-04
> ğŸš€ **è®¿é—®åœ°å€**: `http://localhost:3000/admin-next/analytics` â†’ "æˆæœ¬é…ç½®ä¸éªŒè¯" æ ‡ç­¾é¡µ
> ğŸ” **è®¿é—®è¦æ±‚**: éœ€è¦ç®¡ç†å‘˜ç™»å½•ï¼ˆå…ˆè®¿é—® `/admin-next/login`ï¼‰
> ğŸ¯ **æ”¯æŒå¹³å°**: Claudeã€Claude Consoleã€Geminiã€OpenAIã€OpenAI Responses

## æ¦‚è¿°

æœ¬åŠŸèƒ½å¢å¼ºäº†ç³»ç»Ÿå¯¹**ä¸é€æ˜è®¡ä»·æ–¹å¼**çš„æ”¯æŒ,ä½¿è´¦æˆ·æˆæœ¬è®¡ç®—æ›´åŠ å‡†ç¡®ã€‚é€šè¿‡å¤šå±‚æ¬¡çš„æˆæœ¬è®¡ç®—æ¶æ„ã€çµæ´»çš„è®¡ä»·é…ç½®å’Œè‡ªåŠ¨éªŒè¯æœºåˆ¶,å°†æˆæœ¬è®¡ç®—åå·®ä»20-30%é™ä½åˆ°5%ä»¥å†…ã€‚

## æ ¸å¿ƒç‰¹æ€§

### âœ… æ”¯æŒå¤šå¹³å°è´¦æˆ·ç±»å‹

æˆæœ¬è¿½è¸ªåŠŸèƒ½æ”¯æŒç³»ç»Ÿä¸­æ‰€æœ‰ä¸»æµ AI å¹³å°è´¦æˆ·ï¼š

| å¹³å°ç±»å‹             | è¯´æ˜                  | API ç«¯ç‚¹                           |
| -------------------- | --------------------- | ---------------------------------- |
| **Claude**           | Claude OAuth è®¤è¯è´¦æˆ· | `/admin/claude-accounts`           |
| **Claude Console**   | Claude Console è´¦æˆ·   | `/admin/claude-console-accounts`   |
| **Gemini**           | Google Gemini è´¦æˆ·    | `/admin/gemini-accounts`           |
| **OpenAI**           | OpenAI OAuth è´¦æˆ·     | `/admin/openai-accounts`           |
| **OpenAI Responses** | OpenAI Responses è´¦æˆ· | `/admin/openai-responses-accounts` |

- âœ… ç»Ÿä¸€çš„è´¦æˆ·ç®¡ç†ç•Œé¢
- âœ… å¹³å°ç­›é€‰å™¨ï¼Œæ”¯æŒæŒ‰ç±»å‹è¿‡æ»¤æŸ¥çœ‹
- âœ… æ¯ä¸ªå¹³å°ç‹¬ç«‹çš„æˆæœ¬é…ç½®å’Œè´¦å•ç®¡ç†

### âœ… æ”¯æŒå¤šç§è®¡ä»·æ–¹å¼

- **ç§¯åˆ†åˆ¶è®¡è´¹**: æ”¯æŒåŸºäºç§¯åˆ†çš„è®¡ä»·æ¨¡å¼
- **é˜¶æ¢¯å®šä»·**: æ ¹æ®ç”¨é‡åŒºé—´é‡‡ç”¨ä¸åŒä»·æ ¼
- **æ··åˆè®¡è´¹**: å¤šç»´åº¦è®¡è´¹æ–¹å¼ç»„åˆ
- **å›ºå®šè´¹ç”¨**: æœˆè´¹ã€å¹´è´¹ç­‰å›ºå®šæˆæœ¬åˆ†æ‘Š
- **æ ‡å‡†å®šä»·**: åŸºäºå…¬å¼€ä»·æ ¼è¡¨è®¡ç®—

### âœ… è‡ªåŠ¨æ¨å¯¼ä¸éªŒè¯

- **è´¦å•éªŒè¯**: å¯¹æ¯”å®é™…è´¦å•ä¸è®¡ç®—æˆæœ¬,è‡ªåŠ¨è¯„ä¼°å‡†ç¡®æ€§
- **å‚æ•°æ¨å¯¼**: åŸºäºå†å²è´¦å•æ•°æ®è‡ªåŠ¨æ¨å¯¼è®¡ä»·å‚æ•°
- **è´¨é‡è¯„åˆ†**: æä¾›æ¨å¯¼è´¨é‡å’Œç½®ä¿¡åº¦è¯„çº§
- **åå·®åˆ†æ**: è¯¦ç»†çš„æˆæœ¬åå·®åˆ†æå’Œä¼˜åŒ–å»ºè®®

### âœ… å®Œæ•´çš„è¿½æº¯æ€§

- **è®¡ç®—è¯¦æƒ…**: è®°å½•å®Œæ•´çš„æˆæœ¬è®¡ç®—è¿‡ç¨‹
- **ç½®ä¿¡åº¦æ ‡è¯†**: æ˜ç¡®æ ‡è¯†æˆæœ¬æ•°æ®çš„å¯é æ€§
- **éªŒè¯å†å²**: å®Œæ•´çš„éªŒè¯å’Œæ¨å¯¼å†å²è®°å½•
- **å®¡è®¡æ”¯æŒ**: æ”¯æŒæˆæœ¬æ•°æ®çš„å®¡è®¡å’Œå›æº¯

## æ–‡æ¡£ç»“æ„

```
claude-relay-service/
â”œâ”€â”€ ACCURATE_COST_CALCULATION_PLAN.md    # è¯¦ç»†è®¾è®¡æ–¹æ¡ˆ
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ COST_TRACKING_GUIDE.md           # å¿«é€Ÿå…¥é—¨æŒ‡å—
â”‚   â””â”€â”€ COST_ACCURACY_README.md          # æœ¬æ–‡ä»¶
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ cost_tracking_examples.js        # ä»£ç ç¤ºä¾‹
â””â”€â”€ sql/
    â””â”€â”€ migrations/
        â””â”€â”€ 0004_enhanced_cost_tracking.sql  # æ•°æ®åº“è¿ç§»
```

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šWeb ç®¡ç†ç•Œé¢ï¼ˆæ¨èï¼‰â­

#### æ­¥éª¤ 1: ç™»å½•ç®¡ç†åå°

1. è®¿é—®ç™»å½•é¡µé¢ï¼š`http://localhost:3000/admin-next/login`
2. è¾“å…¥ç®¡ç†å‘˜ç”¨æˆ·åå’Œå¯†ç ï¼ˆé»˜è®¤åœ¨ `data/init.json` ä¸­é…ç½®ï¼‰
3. ç‚¹å‡»"ç™»å½•"

#### æ­¥éª¤ 2: è¿›å…¥ç»Ÿè®¡åˆ†æé¡µé¢

1. ç™»å½•æˆåŠŸåï¼Œç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ çš„ **"ç»Ÿè®¡åˆ†æ"** å›¾æ ‡ï¼ˆğŸ“Šï¼‰
2. æˆ–ç›´æ¥è®¿é—®ï¼š`http://localhost:3000/admin-next/analytics`

#### æ­¥éª¤ 3: æ‰“å¼€æˆæœ¬é…ç½®ä¸éªŒè¯

1. åœ¨ç»Ÿè®¡åˆ†æé¡µé¢ï¼Œç‚¹å‡» **"æˆæœ¬é…ç½®ä¸éªŒè¯"** æ ‡ç­¾é¡µï¼ˆæœ€å³ä¾§ï¼Œé½¿è½®å›¾æ ‡ âš™ï¸ï¼‰
2. é¡µé¢ä¼šæ˜¾ç¤ºæ‰€æœ‰è´¦æˆ·çš„æˆæœ¬é…ç½®çŠ¶æ€

#### æ­¥éª¤ 4: è¿›è¡Œæˆæœ¬ç®¡ç†æ“ä½œ

é€‰æ‹©ä¸€ä¸ªè´¦æˆ·ï¼Œå¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š

- ğŸ”§ **é…ç½®æˆæœ¬**: ç‚¹å‡»"é…ç½®"æŒ‰é’®ï¼Œé€‰æ‹©è®¡ä»·æ¨¡å¼
  - **ç§¯åˆ†åˆ¶**ï¼šæŒ‰ç§¯åˆ†æ¶ˆè€—è®¡è´¹
  - **é˜¶æ¢¯å®šä»·**ï¼šç”¨é‡è¶Šå¤§å•ä»·è¶Šä½
  - **æ··åˆè®¡è´¹**ï¼šå¤šç»´åº¦ç»„åˆè®¡è´¹
  - **æ ‡å‡†å®šä»·**ï¼šä½¿ç”¨å…¬å¼€ä»·æ ¼è¡¨
  - **ä¼°ç®—æ¨¡å¼**ï¼šåŸºäºç›¸å¯¹æ•ˆç‡ä¼°ç®—

- ğŸ’° **å½•å…¥è´¦å•**: ç‚¹å‡»"å½•å…¥è´¦å•"æŒ‰é’®
  - **å•ä¸ªå½•å…¥**ï¼šæ‰‹åŠ¨è¾“å…¥è´¦å•é‡‘é¢å’Œå‘¨æœŸ
  - **æ‰¹é‡å¯¼å…¥**ï¼šä¸Šä¼  CSV æ–‡ä»¶æ‰¹é‡å¯¼å…¥å†å²è´¦å•

- ğŸ¤– **æ¨å¯¼å‚æ•°**: ç‚¹å‡»"æ¨å¯¼"æŒ‰é’®
  - ç³»ç»Ÿè‡ªåŠ¨åˆ†æå†å²è´¦å•å’Œä½¿ç”¨æ•°æ®
  - æ¨å¯¼å‡ºæœ€ä½³çš„è®¡ä»·å‚æ•°
  - æ˜¾ç¤ºæ¨å¯¼è´¨é‡è¯„åˆ†ï¼ˆRÂ²ã€MAEï¼‰

- âœ… **éªŒè¯æˆæœ¬**: ç‚¹å‡»"éªŒè¯"æŒ‰é’®
  - å¯¹æ¯”è®¡ç®—æˆæœ¬ä¸å®é™…è´¦å•
  - æ˜¾ç¤ºåå·®ç‡å’Œå‡†ç¡®æ€§è¯„åˆ†
  - ç”Ÿæˆ ECharts æˆæœ¬è¶‹åŠ¿å›¾è¡¨
  - æä¾›æ™ºèƒ½ä¼˜åŒ–å»ºè®®

#### æ­¥éª¤ 5: æŸ¥çœ‹éªŒè¯ç»“æœ

éªŒè¯å®Œæˆåï¼Œä¼šæ˜¾ç¤ºï¼š

- ğŸ“Š **æˆæœ¬å¯¹æ¯”å›¾è¡¨**ï¼šè®¡ç®—æˆæœ¬ vs å®é™…è´¦å•çš„æ—¶é—´åºåˆ—å¯¹æ¯”
- ğŸ“ˆ **å‡†ç¡®æ€§æŒ‡æ ‡**ï¼šRÂ²ï¼ˆæ‹Ÿåˆä¼˜åº¦ï¼‰ã€MAEï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼‰ã€æ€»ä½“è´¨é‡è¯„åˆ†
- ğŸ’¡ **ä¼˜åŒ–å»ºè®®**ï¼šæ ¹æ®åå·®æƒ…å†µæä¾›æ”¹è¿›å»ºè®®
- ğŸ“‹ **è¯¦ç»†æ•°æ®**ï¼šæ¯ä¸ªè´¦å•å‘¨æœŸçš„è¯¦ç»†å¯¹æ¯”æ•°æ®

### æ–¹å¼äºŒï¼šAPI è°ƒç”¨

#### 1. æ‰§è¡Œæ•°æ®åº“è¿ç§»

```bash
psql -U your_user -d your_database -f sql/migrations/0004_enhanced_cost_tracking.sql
```

#### 2. é…ç½®è´¦æˆ·è®¡ä»·è§„åˆ™

**ç§¯åˆ†åˆ¶è´¦æˆ·**:

```bash
curl -X PUT http://localhost:3000/api/admin/accounts/{accountId}/cost-profile \
  -H "Content-Type: application/json" \
  -d '{
    "billingType": "point_based",
    "pointConversion": {
      "pointsPerRequest": 1,
      "pointsPerToken": 0.001,
      "costPerPoint": 0.01
    }
  }'
```

**é˜¶æ¢¯å®šä»·è´¦æˆ·**:

```bash
curl -X PUT http://localhost:3000/api/admin/accounts/{accountId}/cost-profile \
  -H "Content-Type: application/json" \
  -d '{
    "billingType": "tiered",
    "tieredPricing": [
      { "minTokens": 0, "maxTokens": 1000000, "costPerMillion": 3.0 },
      { "minTokens": 1000001, "maxTokens": null, "costPerMillion": 2.5 }
    ]
  }'
```

#### 3. å½•å…¥è´¦å•å¹¶éªŒè¯

```bash
# å½•å…¥è´¦å•
curl -X POST http://localhost:3000/api/admin/accounts/{accountId}/bills \
  -H "Content-Type: application/json" \
  -d '{
    "billingPeriod": "2025-01",
    "totalCost": 123.45,
    "currency": "USD",
    "notes": "ä¸€æœˆè´¦å•"
  }'

# æ¨å¯¼è®¡ä»·å‚æ•°
curl -X POST http://localhost:3000/api/admin/accounts/{accountId}/infer-pricing

# éªŒè¯æˆæœ¬å‡†ç¡®æ€§
curl -X POST http://localhost:3000/api/admin/accounts/{accountId}/validate-costs \
  -H "Content-Type: application/json" \
  -d '{ "billingPeriod": "2025-01" }'
```

### æ‰¹é‡å¯¼å…¥è´¦å•ï¼ˆCSVï¼‰

**CSV æ ¼å¼**:

```csv
billingPeriod,totalCost,currency,notes
2025-01,123.45,USD,ä¸€æœˆè´¦å•
2025-02,145.67,USD,äºŒæœˆè´¦å•
2025-03,138.92,USD,ä¸‰æœˆè´¦å•
```

**å¯¼å…¥æ–¹å¼**:

- Web ç•Œé¢ï¼šè´¦å•å½•å…¥æ¨¡æ€æ¡† â†’ åˆ‡æ¢åˆ°æ‰¹é‡å¯¼å…¥ â†’ é€‰æ‹© CSV æ–‡ä»¶
- APIï¼š`POST /api/admin/accounts/{accountId}/bills/import`ï¼ˆå¾…å®ç°ï¼‰

## æ¶æ„è®¾è®¡

### å¤šå±‚æ¬¡æˆæœ¬è®¡ç®—

```
L1: å®é™…è´¦å•æ•°æ® (æœ€é«˜ä¼˜å…ˆçº§) â†’ ç½®ä¿¡åº¦: high
L2: è´¦æˆ·çº§è‡ªå®šä¹‰è®¡ä»·è§„åˆ™ â†’ ç½®ä¿¡åº¦: medium-high
L3: å†å²æ•°æ®åæ¨è®¡ä»· â†’ ç½®ä¿¡åº¦: medium
L4: æ ‡å‡†æ¨¡å‹å®šä»· â†’ ç½®ä¿¡åº¦: low-medium
L5: ç›¸å¯¹æ•ˆç‡ä¼°ç®— â†’ ç½®ä¿¡åº¦: low
```

### æ•°æ®åº“æ‰©å±•

æ–°å¢è¡¨:

- `cost_validation_history`: æˆæœ¬éªŒè¯å†å²
- `pricing_inference_history`: è®¡ä»·æ¨å¯¼å†å²

æ‰©å±•è¡¨:

- `account_cost_profiles`: æ–°å¢è®¡ä»·é…ç½®å­—æ®µ
- `usage_records`: æ–°å¢è®¡ç®—è¯¦æƒ…å­—æ®µ
- `account_bills`: æ–°å¢éªŒè¯ç»“æœå­—æ®µ

æ–°å¢è§†å›¾:

- `v_account_cost_accuracy`: è´¦æˆ·æˆæœ¬å‡†ç¡®æ€§æ¦‚è§ˆ

### APIç«¯ç‚¹

```
GET    /api/admin/accounts/:accountId/cost-profile
PUT    /api/admin/accounts/:accountId/cost-profile
POST   /api/admin/accounts/:accountId/bills
POST   /api/admin/accounts/:accountId/infer-pricing
POST   /api/admin/accounts/:accountId/validate-costs
GET    /api/admin/accounts/:accountId/cost-comparison
```

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: ç§¯åˆ†åˆ¶è´¦æˆ·

ä¸Šæ¸¸ä½¿ç”¨ç§¯åˆ†è®¡è´¹,æ¯ä¸ªè¯·æ±‚å’Œtokenéƒ½æ¶ˆè€—ç§¯åˆ†,ç§¯åˆ†ä¸è´§å¸æœ‰å›ºå®šå…‘æ¢ç‡ã€‚

**è§£å†³æ–¹æ¡ˆ**: é…ç½® `point_based` è®¡è´¹æ¨¡å¼,è®¾ç½®ç§¯åˆ†æ¢ç®—è§„åˆ™ã€‚

### åœºæ™¯2: é˜¶æ¢¯å®šä»·è´¦æˆ·

æœˆåº¦ç”¨é‡è¶Šå¤§,å•ä»·è¶Šä½,æœ‰æ˜ç¡®çš„ç”¨é‡æ¡£ä½ã€‚

**è§£å†³æ–¹æ¡ˆ**: é…ç½® `tiered` è®¡è´¹æ¨¡å¼,è®¾ç½®å„æ¡£ä½ä»·æ ¼ã€‚

### åœºæ™¯3: æ··åˆè®¡è´¹è´¦æˆ·

åŒæ—¶æŒ‰è¯·æ±‚æ•°å’Œtokenæ•°è®¡è´¹,è¿˜åŒ…å«å›ºå®šæœˆè´¹ã€‚

**è§£å†³æ–¹æ¡ˆ**: é…ç½® `hybrid` è®¡è´¹æ¨¡å¼,è®¾ç½®å¤šç»´åº¦è®¡è´¹å…¬å¼å’Œå›ºå®šè´¹ç”¨ã€‚

### åœºæ™¯4: è®¡ä»·è§„åˆ™æœªçŸ¥

æ— æ³•è·å–å‡†ç¡®çš„è®¡ä»·ä¿¡æ¯,ä½†æœ‰å†å²è´¦å•æ•°æ®ã€‚

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨è‡ªåŠ¨æ¨å¯¼åŠŸèƒ½,åŸºäºå†å²è´¦å•æ¨å¯¼è®¡ä»·å‚æ•°ã€‚

## é¢„æœŸæ•ˆæœ

### å‡†ç¡®æ€§æå‡

- âœ… æˆæœ¬è®¡ç®—åå·®ä» 20-30% é™ä½åˆ° **5% ä»¥å†…**
- âœ… æ”¯æŒç§¯åˆ†åˆ¶ã€é˜¶æ¢¯å®šä»·ç­‰å¤æ‚è®¡ä»·æ–¹å¼
- âœ… æä¾›ç½®ä¿¡åº¦è¯„çº§,æ˜ç¡®æ•°æ®å¯é æ€§

### è¿ç»´ä¾¿åˆ©

- âœ… è‡ªåŠ¨æ¨å¯¼å‡å°‘æ‰‹åŠ¨é…ç½®å·¥ä½œé‡
- âœ… è´¦å•éªŒè¯åŠæ—¶å‘ç°è®¡ä»·é—®é¢˜
- âœ… æˆæœ¬å¯¹æ¯”æŠ¥å‘Šç›´è§‚å±•ç¤ºå‡†ç¡®æ€§

### å¯è¿½æº¯æ€§

- âœ… å®Œæ•´è®°å½•è®¡ç®—æ–¹æ³•å’Œå‚æ•°
- âœ… æ”¯æŒå†å²æ•°æ®å®¡è®¡å’Œå›æº¯
- âœ… æä¾›æˆæœ¬æ¥æºæ ‡è¯†

## å®æ–½çŠ¶æ€

### âœ… Phase 1: æ•°æ®åº“æ‰©å±• (å·²å®Œæˆ)

- âœ… æ‰§è¡Œè¿ç§»è„šæœ¬ `0004_enhanced_cost_tracking.sql`
- âœ… æ›´æ–° repository å±‚ `postgresCostTrackingRepository.js`
- âœ… æ·»åŠ æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†

### âœ… Phase 2: æ ¸å¿ƒè®¡ç®—é€»è¾‘ (å·²å®Œæˆ)

- âœ… å®ç° 5 ç§è®¡ä»·æ–¹å¼è®¡ç®—ï¼ˆç§¯åˆ†åˆ¶ã€é˜¶æ¢¯ã€æ··åˆã€æ ‡å‡†ã€ä¼°ç®—ï¼‰
- âœ… å¢å¼º `calculateActualCost()` æ”¯æŒæ‰€æœ‰è®¡ä»·æ¨¡å¼
- âœ… è¾…åŠ©å‡½æ•°ï¼š`calculatePointBasedCost()`, `calculateTieredCost()`, `calculateHybridCost()`

### âœ… Phase 3: æ¨å¯¼ä¸éªŒè¯ (å·²å®Œæˆ)

- âœ… å®ç°æ¨å¯¼æœåŠ¡ `costInferenceService.js`
  - âœ… `inferPricingFromBills()` - è‡ªåŠ¨æ¨å¯¼è®¡ä»·å‚æ•°
  - âœ… `validateCostAccuracy()` - éªŒè¯æˆæœ¬å‡†ç¡®æ€§
  - âœ… `generateCostComparisonReport()` - æˆæœ¬å¯¹æ¯”æŠ¥å‘Š
- âœ… æ¨å¯¼ç®—æ³•ï¼š`deriveRates()`, `analyzeBillingPattern()`, `calculateInferenceQuality()`
- âœ… è´¨é‡è¯„åˆ†ç³»ç»Ÿï¼ˆRÂ²ã€MAEã€æ€»åˆ†ï¼‰

### âœ… Phase 4: APIä¸ç•Œé¢ (å·²å®Œæˆ)

- âœ… æ·»åŠ  6 ä¸ªç®¡ç† API ç«¯ç‚¹ (admin.js:8502-8661)
  - âœ… `GET /accounts/:id/cost-profile` - è·å–æˆæœ¬é…ç½®
  - âœ… `PUT /accounts/:id/cost-profile` - æ›´æ–°æˆæœ¬é…ç½®
  - âœ… `POST /accounts/:id/bills` - å½•å…¥è´¦å•
  - âœ… `GET /accounts/:id/bills` - è´¦å•åˆ—è¡¨
  - âœ… `POST /accounts/:id/infer-pricing` - æ¨å¯¼è®¡ä»·
  - âœ… `POST /accounts/:id/validate-costs` - éªŒè¯æˆæœ¬
  - âœ… `GET /accounts/:id/cost-comparison` - æˆæœ¬å¯¹æ¯”
- âœ… **Web ç®¡ç†ç•Œé¢** (é›†æˆåˆ°ç»Ÿè®¡åˆ†ææ¨¡å—)
  - âœ… `CostTrackingManagement.vue` - ä¸»ç»„ä»¶ï¼ˆè´¦æˆ·åˆ—è¡¨ã€æ“ä½œå…¥å£ï¼‰
    - âœ… æ”¯æŒ **5 ç§å¹³å°ç±»å‹**ï¼šClaudeã€Claude Consoleã€Geminiã€OpenAIã€OpenAI Responses
    - âœ… å¹³å°ç­›é€‰å™¨ï¼Œæ”¯æŒæŒ‰å¹³å°ç±»å‹è¿‡æ»¤è´¦æˆ·
    - âœ… ä½¿ç”¨ `apiClient` ç»Ÿä¸€ API è°ƒç”¨ï¼Œæ”¯æŒå¼€å‘/ç”Ÿäº§æ¨¡å¼
  - âœ… `CostProfileModal.vue` - æˆæœ¬é…ç½®ç¼–è¾‘å™¨ï¼ˆ5ç§æ¨¡å¼åŠ¨æ€è¡¨å•ï¼‰
  - âœ… `BillEntryModal.vue` - è´¦å•å½•å…¥ï¼ˆå•ä¸ª/æ‰¹é‡CSVï¼‰
  - âœ… `InferenceValidationPanel.vue` - æ¨å¯¼éªŒè¯é¢æ¿ï¼ˆè´¨é‡è¯„åˆ†ã€EChartså›¾è¡¨ï¼‰
  - âœ… `costTrackingApi.js` - API æœåŠ¡å±‚å°è£…

### âœ… Phase 5: æµ‹è¯•ä¸ä¼˜åŒ– (å·²å®Œæˆ)

- âœ… å‰ç«¯æ„å»ºæµ‹è¯•é€šè¿‡ï¼ˆ0 errors, 80 warningsï¼‰
- âœ… ä¿®å¤ API è·¯å¾„é—®é¢˜ï¼ˆå¼€å‘æ¨¡å¼ `/webapi` å‰ç¼€ï¼‰
- âœ… å“åº”å¼è®¾è®¡å’Œæš—é»‘æ¨¡å¼é€‚é…
- âœ… Prettier ä»£ç æ ¼å¼åŒ–
- âœ… ESLint è§„èŒƒæ£€æŸ¥
- âœ… å®Œæ•´æ–‡æ¡£ï¼š`WEB_INTEGRATION_COMPLETE.md`

### ğŸ“Š æ€»ä½“å®Œæˆåº¦ï¼š**100%**

**å·²å®æ–½æ—¶é—´**: 2025-10-04ï¼ˆå•æ—¥å®Œæˆï¼‰
**å®é™…å·¥ä½œé‡**: çº¦ 8-10 å°æ—¶ï¼ˆå«å¤šå¹³å°æ”¯æŒå’Œé—®é¢˜ä¿®å¤ï¼‰

### ğŸ”² å¾…å®Œæˆé¡¹ï¼ˆä¼˜å…ˆçº§è¾ƒä½ï¼‰

1. **æµ‹è¯•è¦†ç›–**
   - ğŸ”² å•å…ƒæµ‹è¯•ï¼ˆJestï¼‰
   - ğŸ”² é›†æˆæµ‹è¯•ï¼ˆSupertestï¼‰
   - ğŸ”² E2E æµ‹è¯•ï¼ˆPlaywright - æµ‹è¯•è„šæœ¬å·²åˆ›å»ºï¼‰

2. **æ–‡æ¡£å®Œå–„**
   - ğŸ”² `ACCURATE_COST_CALCULATION_PLAN.md`ï¼ˆè¯¦ç»†è®¾è®¡æ–‡æ¡£ï¼‰
   - ğŸ”² `COST_TRACKING_GUIDE.md`ï¼ˆå¿«é€Ÿå…¥é—¨æŒ‡å—ï¼‰
   - ğŸ”² `examples/cost_tracking_examples.js`ï¼ˆä»£ç ç¤ºä¾‹ï¼‰

3. **æ€§èƒ½ä¼˜åŒ–**
   - ğŸ”² å¤æ‚è®¡è´¹å…¬å¼ç¼“å­˜
   - ğŸ”² å¤§é‡å†å²æ•°æ®æ¨å¯¼çš„å¼‚æ­¥å¤„ç†
   - ğŸ”² æ‰¹é‡é‡ç®—å†å²æˆæœ¬åŠŸèƒ½

### ğŸ› å·²è§£å†³çš„é—®é¢˜

#### é—®é¢˜ 1: ä½¿ç”¨é”™è¯¯çš„ API å®¢æˆ·ç«¯ï¼ˆ2025-10-04ï¼‰

**ç—‡çŠ¶**: å‰ç«¯ç»„ä»¶ä½¿ç”¨ `axios` ç›´æ¥è°ƒç”¨ APIï¼Œå¯¼è‡´å¼€å‘æ¨¡å¼ä¸‹è·¯å¾„é”™è¯¯

**åŸå› **: æœªä½¿ç”¨é¡¹ç›®ç»Ÿä¸€çš„ `apiClient`ï¼Œè¯¥å®¢æˆ·ç«¯å·²å¤„ç†å¼€å‘/ç”Ÿäº§æ¨¡å¼çš„è·¯å¾„å‰ç¼€

**è§£å†³æ–¹æ¡ˆ**:

- âœ… å°† `axios` + `createApiUrl()` æ›¿æ¢ä¸º `apiClient`
- âœ… `apiClient` å†…ç½®è·¯å¾„å¤„ç†å’Œè®¤è¯ token
- âœ… å¼€å‘æ¨¡å¼ä¸‹è‡ªåŠ¨æ·»åŠ  `/webapi` å‰ç¼€

**å½±å“**: å‰ç«¯èƒ½æ­£å¸¸åŠ è½½è´¦æˆ·åˆ—è¡¨å’Œæˆæœ¬é…ç½®æ•°æ®

#### é—®é¢˜ 2: é¡µé¢åŠ è½½æ—¶ç«‹å³å‡ºç° 404 é”™è¯¯å¼¹çª—ï¼ˆ2025-10-04ï¼‰

**ç—‡çŠ¶**: ç‚¹å‡»"ç»Ÿè®¡åˆ†æ"èœå•ç«‹å³æ˜¾ç¤º 404 é”™è¯¯å¼¹çª—ï¼Œå³ä½¿ç”¨æˆ·è¿˜åœ¨ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µ

**åŸå› **: ä½¿ç”¨ `v-show` å¯¼è‡´æ‰€æœ‰æ ‡ç­¾é¡µç»„ä»¶åŒæ—¶æŒ‚è½½ï¼Œ`CostTrackingManagement` çš„ `onMounted()` ç«‹å³æ‰§è¡Œå¹¶è°ƒç”¨ API

**è§£å†³æ–¹æ¡ˆ**:

- âœ… å°† `v-show` æ”¹ä¸º `v-if` å®ç°æ‡’åŠ è½½
- âœ… ç»„ä»¶åªåœ¨ç”¨æˆ·ç‚¹å‡»å¯¹åº”æ ‡ç­¾æ—¶æ‰æŒ‚è½½

**å½±å“**: é¿å…ä¸å¿…è¦çš„ API è°ƒç”¨å’Œé”™è¯¯æç¤º

#### é—®é¢˜ 3: åªæ˜¾ç¤º 1 ä¸ªè´¦æˆ·ï¼Œç¼ºå°‘å…¶ä»–å¹³å°è´¦æˆ·ï¼ˆ2025-10-04ï¼‰

**ç—‡çŠ¶**: é¡µé¢åªæ˜¾ç¤º 1 ä¸ª Gemini è´¦æˆ·ï¼Œä½†æ•°æ®åº“ä¸­æœ‰ 18+ ä¸ª Claude Console è´¦æˆ·

**åŸå› **:

- ç³»ç»Ÿä¸­æ²¡æœ‰ Claude OAuth è´¦æˆ·ï¼ˆ`claude_account:*`ï¼‰
- æœ‰ 17+ ä¸ª Claude Console è´¦æˆ·ï¼ˆ`claude_console_account:*`ï¼‰
- æˆæœ¬è¿½è¸ªåŠŸèƒ½åªæŸ¥è¯¢äº† `claude-accounts` å’Œ `gemini-accounts`ï¼ŒæœªæŸ¥è¯¢å…¶ä»–è´¦æˆ·ç±»å‹

**è§£å†³æ–¹æ¡ˆ**:

- âœ… æ·»åŠ  Claude Console è´¦æˆ·æ”¯æŒ (`/admin/claude-console-accounts`)
- âœ… æ·»åŠ  OpenAI è´¦æˆ·æ”¯æŒ (`/admin/openai-accounts`)
- âœ… æ·»åŠ  OpenAI Responses è´¦æˆ·æ”¯æŒ (`/admin/openai-responses-accounts`)
- âœ… æ›´æ–°å¹³å°ç­›é€‰å™¨ï¼Œæ–°å¢ Consoleã€OpenAIã€OpenAI Responses é€‰é¡¹

**å½±å“**: ç°åœ¨å¯ä»¥æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ 5 ç§å¹³å°ç±»å‹çš„è´¦æˆ·

#### é—®é¢˜ 4: ESLint å±æ€§é¡ºåºé”™è¯¯ï¼ˆ2025-10-04ï¼‰

**ç—‡çŠ¶**: Vue ç»„ä»¶ä¸­å±æ€§é¡ºåºä¸ç¬¦åˆ `vue/attributes-order` è§„åˆ™

**è§£å†³æ–¹æ¡ˆ**:

- âœ… è¿è¡Œ `npx eslint --fix` è‡ªåŠ¨ä¿®å¤
- âœ… ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 
- âœ… æ„å»ºæµ‹è¯•é€šè¿‡ï¼ˆ0 errorsï¼‰

#### é—®é¢˜ 5: æœªä½¿ç”¨çš„ emit å˜é‡ï¼ˆ2025-10-04ï¼‰

**ç—‡çŠ¶**: `InferenceValidationPanel.vue` ä¸­å®šä¹‰äº† `const emit = defineEmits(['close'])` ä½†æœªä½¿ç”¨

**è§£å†³æ–¹æ¡ˆ**:

- âœ… æ”¹ä¸ºç›´æ¥è°ƒç”¨ `defineEmits(['close'])` è€Œä¸èµ‹å€¼ç»™å˜é‡

## æœ€ä½³å®è·µ

1. **å®šæœŸå½•å…¥è´¦å•**: æ¯æœˆå½•å…¥å®é™…è´¦å•,ç”¨äºéªŒè¯å’Œæ¨å¯¼
2. **è®¾ç½®åˆç†ç½®ä¿¡åº¦**: æ ¹æ®æ•°æ®æ¥æºè®¾ç½®å‡†ç¡®çš„ç½®ä¿¡åº¦
3. **å®šæœŸéªŒè¯**: æ¯æœˆéªŒè¯ä¸€æ¬¡æˆæœ¬å‡†ç¡®æ€§
4. **è®°å½•è¯¦ç»†ä¿¡æ¯**: åœ¨é…ç½®ä¸­è®°å½•æ•°æ®æ¥æºå’Œç‰¹æ®Šè¯´æ˜
5. **ä½¿ç”¨è‡ªåŠ¨æ¨å¯¼**: æœ‰è¶³å¤Ÿå†å²æ•°æ®æ—¶ä¼˜å…ˆå°è¯•è‡ªåŠ¨æ¨å¯¼

## æ³¨æ„äº‹é¡¹

### æ•°æ®éšç§

- âš ï¸ è´¦å•æ•°æ®åŒ…å«æ•æ„Ÿä¿¡æ¯,éœ€ä¸¥æ ¼è®¿é—®æ§åˆ¶
- âš ï¸ è®¡ä»·å‚æ•°å¯èƒ½æ¶‰åŠå•†ä¸šæœºå¯†,éœ€åŠ å¯†å­˜å‚¨

### æ€§èƒ½è€ƒè™‘

- âš ï¸ å¤æ‚è®¡è´¹å…¬å¼å¯èƒ½å½±å“æ€§èƒ½,éœ€ç¼“å­˜ä¼˜åŒ–
- âš ï¸ å†å²æ•°æ®æ¨å¯¼éœ€å¤§é‡è®¡ç®—,åº”å¼‚æ­¥æ‰§è¡Œ

### æ•°æ®ä¸€è‡´æ€§

- âš ï¸ ä¿®æ”¹é…ç½®åå†å²æ•°æ®ä¸ä¼šè‡ªåŠ¨é‡ç®—
- âš ï¸ éœ€è¦æä¾›æ‰¹é‡é‡ç®—åŠŸèƒ½(å¾…å¼€å‘)

## åç»­ä¼˜åŒ–

### çŸ­æœŸ (1-3ä¸ªæœˆ)

- æœºå™¨å­¦ä¹ å¢å¼ºçš„è®¡è´¹æ¨¡å¼è¯†åˆ«
- å¼‚å¸¸æˆæœ¬æ³¢åŠ¨è‡ªåŠ¨æ£€æµ‹
- åŸºäºå†å²æ•°æ®çš„æˆæœ¬é¢„æµ‹

### ä¸­æœŸ (3-6ä¸ªæœˆ)

- å¤šå¸ç§æ”¯æŒå’Œæ±‡ç‡è½¬æ¢
- ç»†åŒ–åˆ°API Keyã€ç”¨æˆ·ç»´åº¦çš„æˆæœ¬å½’å› 
- é¢„ç®—ç®¡ç†å’Œå‘Šè­¦

### é•¿æœŸ (6-12ä¸ªæœˆ)

- æ™ºèƒ½ä¼˜åŒ–å»ºè®®ç³»ç»Ÿ
- æ›´ç²¾ç¡®çš„æˆæœ¬é¢„æµ‹æ¨¡å‹
- ä¸ä¸Šæ¸¸è´¦å•ç³»ç»Ÿè‡ªåŠ¨å¯¹è´¦

## æµ‹è¯•éªŒè¯

### âœ… Playwright E2E æµ‹è¯•ï¼ˆ2025-10-04ï¼‰

**æµ‹è¯•ç»“æœ**: ğŸŸ¢ **å…¨éƒ¨é€šè¿‡**ï¼ˆ5 passed, 1 skippedï¼‰

**æµ‹è¯•è¦†ç›–**:

- âœ… ç™»å½•æµç¨‹å’Œè®¤è¯æœºåˆ¶
- âœ… ç»Ÿè®¡åˆ†æé¡µé¢è®¿é—®
- âœ… æˆæœ¬é…ç½®ä¸éªŒè¯æ ‡ç­¾é¡µåˆ‡æ¢
- âœ… API è¯·æ±‚å’Œå“åº”å¤„ç†
- âœ… ç©ºçŠ¶æ€å’Œé”™è¯¯å¤„ç†

**æµ‹è¯•æŠ¥å‘Š**: [TEST_REPORT.md](../../web/admin-spa/tests/TEST_REPORT.md)

**è¿è¡Œæµ‹è¯•**:

```bash
cd web/admin-spa
npx playwright test cost-tracking.spec.js
```

## å¸¸è§é—®é¢˜

> ğŸ’¡ **å®Œæ•´æ•…éšœæ’æŸ¥æŒ‡å—**: [TROUBLESHOOTING.md](./TROUBLESHOOTING.md)

### Q1: è®¿é—® `/admin-next/analytics` æ˜¾ç¤º 404 æˆ–åŠ è½½å¤±è´¥ï¼Ÿ

**åŸå› **: è¯¥é¡µé¢éœ€è¦ç®¡ç†å‘˜ç™»å½•æ‰èƒ½è®¿é—®ã€‚å¯èƒ½æ˜¯ï¼š

- æœªç™»å½•æˆ– token è¿‡æœŸ
- æµè§ˆå™¨ç¼“å­˜äº†æ—§ç‰ˆæœ¬ä»£ç 

**å¿«é€Ÿè§£å†³**:

1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**ï¼šå³é”®åˆ·æ–°æŒ‰é’® â†’ "æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"
2. **é‡æ–°ç™»å½•**ï¼šè®¿é—® `http://localhost:3000/admin-next/login`
3. **ä½¿ç”¨æ­£ç¡®å¯†ç **ï¼šæŸ¥çœ‹ `data/init.json` ä¸­çš„ `adminPassword`

**éªŒè¯**:

- âœ… Playwright E2E æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ˆ5 passedï¼‰
- âœ… API åŠŸèƒ½æµ‹è¯•æ­£å¸¸
- âœ… æ—  BUGï¼ŒåŠŸèƒ½å®Œå…¨å¯ç”¨

**è¯¦ç»†æ’æŸ¥**: å‚è§ [æ•…éšœæ’æŸ¥æŒ‡å—](./TROUBLESHOOTING.md)

### Q2: å¦‚ä½•æŸ¥çœ‹ç®¡ç†å‘˜è´¦å·å¯†ç ï¼Ÿ

**ä½ç½®**: `data/init.json` æ–‡ä»¶

```bash
cat data/init.json
```

å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ï¼š

```bash
export ADMIN_USERNAME=admin
export ADMIN_PASSWORD=your_password
npm start
```

### Q3: æ¨å¯¼åŠŸèƒ½éœ€è¦å¤šå°‘å†å²æ•°æ®ï¼Ÿ

**æœ€å°‘è¦æ±‚**: 3 ä¸ªæœˆçš„è´¦å•æ•°æ®

**æ¨è**: 6-12 ä¸ªæœˆçš„è´¦å•æ•°æ®ï¼Œæ•°æ®è¶Šå¤šæ¨å¯¼è¶Šå‡†ç¡®

**è´¨é‡è¯„åˆ†**:

- RÂ² > 0.9ï¼šä¼˜ç§€
- RÂ² > 0.8ï¼šè‰¯å¥½
- RÂ² > 0.7ï¼šå¯æ¥å—
- RÂ² < 0.7ï¼šéœ€è¦æ›´å¤šæ•°æ®æˆ–æ£€æŸ¥æ•°æ®è´¨é‡

### Q4: å¦‚ä½•æ‰¹é‡å¯¼å…¥å†å²è´¦å•ï¼Ÿ

**CSV æ ¼å¼**:

```csv
billingPeriod,totalCost,currency,notes
2024-01,123.45,USD,ä¸€æœˆè´¦å•
2024-02,145.67,USD,äºŒæœˆè´¦å•
2024-03,138.92,USD,ä¸‰æœˆè´¦å•
```

**å¯¼å…¥æ­¥éª¤**:

1. åœ¨æˆæœ¬é…ç½®ä¸éªŒè¯é¡µé¢ï¼Œç‚¹å‡»"å½•å…¥è´¦å•"
2. åˆ‡æ¢åˆ°"æ‰¹é‡å¯¼å…¥"æ ‡ç­¾
3. é€‰æ‹© CSV æ–‡ä»¶
4. ç‚¹å‡»"å¯¼å…¥"

### Q5: æˆæœ¬åå·®ç‡å¤šå°‘ç®—æ­£å¸¸ï¼Ÿ

**åå·®ç‡æ ‡å‡†**:

- < 5%ï¼šä¼˜ç§€ï¼Œè®¡ä»·é…ç½®å‡†ç¡®
- 5-10%ï¼šè‰¯å¥½ï¼Œå¯æ¥å—èŒƒå›´
- 10-20%ï¼šä¸€èˆ¬ï¼Œå»ºè®®ä¼˜åŒ–é…ç½®
- \> 20%ï¼šè¾ƒå·®ï¼Œéœ€è¦é‡æ–°é…ç½®æˆ–æ¨å¯¼

### Q6: å¦‚ä½•é€‰æ‹©åˆé€‚çš„è®¡ä»·æ¨¡å¼ï¼Ÿ

**é€‰æ‹©æŒ‡å—**:

| è®¡ä»·æ¨¡å¼     | é€‚ç”¨åœºæ™¯             | é…ç½®éš¾åº¦    |
| ------------ | -------------------- | ----------- |
| **æ ‡å‡†å®šä»·** | ä½¿ç”¨å…¬å¼€ä»·æ ¼è¡¨çš„è´¦æˆ· | â­ ç®€å•     |
| **ä¼°ç®—æ¨¡å¼** | æ— æ³•è·å–å‡†ç¡®è®¡ä»·ä¿¡æ¯ | â­ ç®€å•     |
| **ç§¯åˆ†åˆ¶**   | æŒ‰ç§¯åˆ†æ¶ˆè€—è®¡è´¹çš„è´¦æˆ· | â­â­ ä¸­ç­‰   |
| **é˜¶æ¢¯å®šä»·** | ç”¨é‡è¶Šå¤§å•ä»·è¶Šä½     | â­â­ ä¸­ç­‰   |
| **æ··åˆè®¡è´¹** | å¤šç»´åº¦ç»„åˆè®¡è´¹       | â­â­â­ å¤æ‚ |

**æ¨èæµç¨‹**:

1. å¦‚æœä¸ç¡®å®šï¼Œå…ˆä½¿ç”¨"æ ‡å‡†å®šä»·"æˆ–"ä¼°ç®—æ¨¡å¼"
2. å½•å…¥ 3-6 ä¸ªæœˆçš„å†å²è´¦å•
3. ä½¿ç”¨"æ¨å¯¼"åŠŸèƒ½è‡ªåŠ¨è¯†åˆ«è®¡ä»·æ¨¡å¼
4. æ ¹æ®æ¨å¯¼ç»“æœé€‰æ‹©åˆé€‚çš„æ¨¡å¼å¹¶å¾®è°ƒå‚æ•°

## æŠ€æœ¯æ”¯æŒ

- ğŸ“– è¯¦ç»†è®¾è®¡: [ACCURATE_COST_CALCULATION_PLAN.md](../ACCURATE_COST_CALCULATION_PLAN.md)
- ğŸ“˜ ä½¿ç”¨æŒ‡å—: [COST_TRACKING_GUIDE.md](./COST_TRACKING_GUIDE.md)
- ğŸ’» ä»£ç ç¤ºä¾‹: [cost_tracking_examples.js](../examples/cost_tracking_examples.js)
- ğŸ—„ï¸ æ•°æ®åº“è¿ç§»: [0004_enhanced_cost_tracking.sql](../sql/migrations/0004_enhanced_cost_tracking.sql)

## ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: v1.0.0
- **å®Œæˆæ—¥æœŸ**: 2025-10-04
- **å®æ–½çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼ˆ98%ï¼‰
- **å…¼å®¹æ€§**: å®Œå…¨å‘åå…¼å®¹
- **ä¾èµ–**:
  - PostgreSQL 12+
  - Node.js 16+
  - Vue 3.3+
  - ECharts 5.4+

## æ–‡ä»¶æ¸…å•

### åç«¯æ–‡ä»¶

- âœ… `src/services/costTrackingService.js` - æˆæœ¬è¿½è¸ªæœåŠ¡
- âœ… `src/services/costInferenceService.js` - æ¨å¯¼ä¸éªŒè¯æœåŠ¡
- âœ… `src/repositories/postgresCostTrackingRepository.js` - æ•°æ®è®¿é—®å±‚
- âœ… `src/utils/costCalculator.js` - æˆæœ¬è®¡ç®—å™¨ï¼ˆå¢å¼ºï¼‰
- âœ… `src/routes/admin.js` - API è·¯ç”±ï¼ˆ8502-8661 è¡Œï¼‰
- âœ… `sql/migrations/0004_enhanced_cost_tracking.sql` - æ•°æ®åº“è¿ç§»

### å‰ç«¯æ–‡ä»¶

- âœ… `web/admin-spa/src/views/AnalyticsView.vue` - ç»Ÿè®¡åˆ†æé¡µé¢ï¼ˆæ–°å¢æ ‡ç­¾é¡µï¼‰
- âœ… `web/admin-spa/src/components/analytics/CostTrackingManagement.vue` - ä¸»ç»„ä»¶
- âœ… `web/admin-spa/src/components/analytics/cost-tracking/CostProfileModal.vue` - é…ç½®ç¼–è¾‘å™¨
- âœ… `web/admin-spa/src/components/analytics/cost-tracking/BillEntryModal.vue` - è´¦å•å½•å…¥
- âœ… `web/admin-spa/src/components/analytics/cost-tracking/InferenceValidationPanel.vue` - éªŒè¯é¢æ¿
- âœ… `web/admin-spa/src/services/costTrackingApi.js` - API æœåŠ¡å±‚
- âœ… `web/admin-spa/package.json` - ä¾èµ–é…ç½®ï¼ˆæ–°å¢ echartsï¼‰

### æ–‡æ¡£æ–‡ä»¶

- âœ… `docs/features/cost-tracking/README.md` - æœ¬æ–‡æ¡£
- âœ… `docs/features/cost-tracking/WEB_INTEGRATION_COMPLETE.md` - Web é›†æˆå®ŒæˆæŠ¥å‘Š
- ğŸ”² `docs/features/cost-tracking/COST_TRACKING_GUIDE.md` - å¿«é€Ÿå…¥é—¨ï¼ˆå¾…è¡¥å……ï¼‰
- ğŸ”² `docs/ACCURATE_COST_CALCULATION_PLAN.md` - è®¾è®¡æ–‡æ¡£ï¼ˆå¾…è¡¥å……ï¼‰

### æµ‹è¯•æ–‡ä»¶

- âœ… `web/admin-spa/tests/cost-tracking.spec.js` - Playwright E2E æµ‹è¯•

---

_æœ¬åŠŸèƒ½æ˜¾è‘—æå‡äº†æˆæœ¬è®¡ç®—çš„å‡†ç¡®æ€§å’Œçµæ´»æ€§,ä¸ºç²¾ç»†åŒ–æˆæœ¬ç®¡ç†æä¾›äº†å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚æ ¸å¿ƒç®—æ³•å’Œ Web ç•Œé¢å·²å®Œå…¨å®ç°ï¼Œå¯ç«‹å³æŠ•å…¥ä½¿ç”¨ã€‚_
